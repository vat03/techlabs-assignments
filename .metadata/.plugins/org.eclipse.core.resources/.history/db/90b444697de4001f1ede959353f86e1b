package com.aurionpro.test;

import java.util.Scanner;

import com.aurionpro.model.Account;

public class AccountTest {
	public static void main(String[] args) {
		Scanner scanner = new Scanner(System.in);
		Account account1 = null;
		
		while (true) {
			System.out.println("\n1. Create Account\n2. View Balance\n3. Credit Amount\n4. Debit Amount\n5. Exit");
			System.out.print("\nEnter your choice: ");
			int choice = scanner.nextInt();

			System.out.println();

			switch(choice)
			{
				case 1:
				{
					if(account1 == null)
					{
						account1 = new Account();
						takeInut(account1, scanner);
						System.out.println("\nYour Account details are: ");
						displayDetails(account1);
					}
					else
					{
						System.out.println("Account alreadyy exists.");
					}
					break;
				}
				case 2:
				{
					if(account1 != null)
					{
						System.out.println("Your balance is: "+account1.getBalance());
					}
					else
					{
						System.out.println("No account found !! Create an account first.");
					}
					break;
				}
				case 3: 
				{
					if(account1 != null)
					{
						System.out.print("Enter credit amount: ");
						double creditAmount = scanner.nextDouble();
						account1.credit(creditAmount);
					}	
					else
					{
						System.out.println("No account found !! Create an account first.");
					}
					break;
				}
				case 4:
				{
					if(account1 != null)
					{
						System.out.println("Enter debit amount: ");
						double debitAmount = scanner.nextDouble();
						account1.debit(debitAmount);
					}	
					else
					{
						System.out.println("No account found !! Create an account first.");
					}
					break;
				}
				case 5:
				{
					System.out.println("Thanks you !!");
					return;
				}
				default:
				{
					System.out.println("Enter a valid choice !!");
				}
			}
		}
	}

	static {
		System.out.println("Welome to the Banking Application");
	}
	
	public static void takeInut(Account account, Scanner scanner)
	{
		account.setAccountNumber(16010121197l);
		System.out.println("Enter your name: ");
		scanner.nextLine();
		account.setName(scanner.nextLine());
		while(account.getBalance() < 500)
		{
			System.out.println("Enter your initial balance (Minimum 500 required): ");
			account.setBalance(scanner.nextDouble());
		}
		
	}
	
	public static void displayDetails(Account account)
	{
		System.out.print("Your name: ");
		System.out.println(account.getName());
		System.out.print("Your account number: ");
		System.out.println(account.getAccountNumber());
		System.out.print("Your balance: ");
		System.out.println(account.getBalance());
	}
}
