//package com.aurionpro.model;
//
//import java.util.*;
//
//public class MovieManager {
//	private List<Movie> movies;
//	static final String filePath = "D:\\Aurionpro_Vatsal_Training\\Movie Management App";
//	
//	public MovieManager()
//	{
//		movies = new ArrayList<>();
//		loadMovies();
//	}
//	
//	public void addMovie(Movie movie)
//	{
//		
//	}
//	
//	public void clearMovies()
//	{
//		
//	}
//	
//	public List<Movie> getMovies()
//	{
//		
//	}
//	
//	public int getMovieId()
//	{
//		
//	}
//	
//	public void loadMovies()
//	{
//		
//	}
//	
//	public void saveMovies()
//	{
//		
//	}
//	
//	public void deleteAllMovies()
//	{
//		
//	}
//}










package com.aurionpro.model;

import java.io.*;
import java.util.*;

public class MovieManager {
	private List<Movie> movies;
	private static final String filePath = "./Movie Management App/data.bin";

	public MovieManager() throws ClassNotFoundException, IOException {
		movies = new ArrayList<>();
		loadMovies();
	}

	public void addMovie(Movie movie) throws IOException {
		if (movies.size() < 5) {
			movies.add(movie);
			saveMovies();
		}
	}

	public void clearMovies() throws IOException {
		movies.clear();
		saveMovies();
	}

	public List<Movie> getMovies() {
		return movies;
	}

	public int getMovieId() {
		return movies.size() + 1;
	}

	public void loadMovies() throws ClassNotFoundException, IOException {
		File file = new File(filePath);
		if (file.exists()) {
			ObjectInputStream ois = new ObjectInputStream(new FileInputStream(file));
			movies = (List<Movie>) ois.readObject();
			ois.close();
		}
	}

	public void saveMovies() throws IOException {
		ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(filePath));
		oos.writeObject(movies);
	}

	public void deleteAllMovies() {
		File file = new File(filePath);
		if (file.exists()) {
			file.delete();
		}
		movies.clear();
	}
}